{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API service module for a React-based frontend that handles authentication, court management, and booking operations via axios HTTP client. It manages tokens, provides functions to call relevant REST API endpoints, and configures axios interceptors for auth headers.", "external_files": ["axios"], "external_methods": [], "published": ["getApiBaseUrl", "setAuthToken", "clearAuthToken", "login", "register", "listCourts", "createCourt", "createBooking", "myBookings", "listAllBookings"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Returns the configured API base URL from environment variables.", "scope": "", "scopeKind": ""}, {"name": "setAuthToken(token)", "description": "Stores the provided authentication token in localStorage for subsequent API requests.", "scope": "", "scopeKind": ""}, {"name": "clearAuthToken()", "description": "Removes the authentication token from localStorage, effectively logging out the user.", "scope": "", "scopeKind": ""}, {"name": "login({ email, password, role = \"user\" })", "description": "Authenticates a user or admin with email and password, retrieves tokens and user info, and sets auth token.", "scope": "", "scopeKind": ""}, {"name": "register({ name, email, password, role = \"user\" })", "description": "Registers a new user or admin account, retrieves tokens, and sets auth token.", "scope": "", "scopeKind": ""}, {"name": "listCourts()", "description": "Fetches a list of all courts from the backend.", "scope": "", "scopeKind": ""}, {"name": "createCourt({ name, location = \"\", surface = \"hard\" })", "description": "Creates a new court entry in the backend (admin use).", "scope": "", "scopeKind": ""}, {"name": "createBooking({ court_id, date, time, group_size, notes = \"\", })", "description": "Creates a new booking for a court with specified details.", "scope": "", "scopeKind": ""}, {"name": "myBookings()", "description": "Retrieves current user's bookings.", "scope": "", "scopeKind": ""}, {"name": "listAllBookings()", "description": "Retrieves all bookings, likely for admin purposes.", "scope": "", "scopeKind": ""}, {"name": "normalizeError(error)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["axios.create", "api.interceptors.request.use", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "api.post", "api.get"], "search-terms": ["axios API service", "auth token management", "court and booking endpoints", "React environment variables", "API request interceptors", "localStorage handling API tokens"], "state": 2, "file_id": 13, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"\\/api\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "adminLogin", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^    adminLogin: \"\\/auth\\/admin\\/login\",$/", "language": "JavaScript", "kind": "property", "scope": "endpoints.auth", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^const api = axios.create({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "auth", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^  auth: {$/", "language": "JavaScript", "kind": "class", "scope": "endpoints", "scopeKind": "class"}, {"_type": "tag", "name": "bookings", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^  bookings: \"\\/bookings\",$/", "language": "JavaScript", "kind": "property", "scope": "endpoints", "scopeKind": "class"}, {"_type": "tag", "name": "clearAuthToken", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export function clearAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "courts", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^  courts: \"\\/courts\",$/", "language": "JavaScript", "kind": "property", "scope": "endpoints", "scopeKind": "class"}, {"_type": "tag", "name": "createBooking", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export async function createBooking({$/", "language": "JavaScript", "kind": "function", "signature": "({ court_id, date, time, group_size, notes = \"\", })"}, {"_type": "tag", "name": "createCourt", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export async function createCourt({ name, location = \"\", surface = \"hard\" }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name, location = \"\", surface = \"hard\" })"}, {"_type": "tag", "name": "endpoints", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^const endpoints = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listAllBookings", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export async function listAllBookings() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listCourts", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export async function listCourts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^    login: \"\\/auth\\/login\",$/", "language": "JavaScript", "kind": "property", "scope": "endpoints.auth", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export async function login({ email, password, role = \"user\" }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password, role = \"user\" })"}, {"_type": "tag", "name": "myBookings", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^  myBookings: \"\\/bookings\\/my\",$/", "language": "JavaScript", "kind": "property", "scope": "endpoints", "scopeKind": "class"}, {"_type": "tag", "name": "myBookings", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export async function myBookings() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeError", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^function normalizeError(error) {$/", "language": "JavaScript", "kind": "function", "signature": "(error)"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^    register: \"\\/auth\\/register\",$/", "language": "JavaScript", "kind": "property", "scope": "endpoints.auth", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export async function register({ name, email, password, role = \"user\" }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name, email, password, role = \"user\" })"}, {"_type": "tag", "name": "setAuthToken", "path": "/home/kavia/workspace/code-generation/pickleball-court-booking-system-158387-158396/pickleball_frontend/src/services/api.js", "pattern": "/^export function setAuthToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}], "hash": "85acea268ad7d2aac617d216df40b44c", "format-version": 4, "code-base-name": "pickleball_frontend", "filename": "pickleball_frontend/src/services/api.js", "fields": [{"name": "adminLogin: \"\\/auth\\/admin\\/login\",", "scope": "endpoints.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "bookings: \"\\/bookings\",", "scope": "endpoints", "scopeKind": "class", "description": "unavailable"}, {"name": "courts: \"\\/courts\",", "scope": "endpoints", "scopeKind": "class", "description": "unavailable"}, {"name": "login: \"\\/auth\\/login\",", "scope": "endpoints.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "myBookings: \"\\/bookings\\/my\",", "scope": "endpoints", "scopeKind": "class", "description": "unavailable"}, {"name": "register: \"\\/auth\\/register\",", "scope": "endpoints.auth", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"28": ""}]}